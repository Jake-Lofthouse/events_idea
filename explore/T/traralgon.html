<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Accommodation near Traralgon parkrun | Hotels, Weather, Course Map & More | parkrunner tourist</title>
<meta name="description" content="Discover the best accommodation near Traralgon parkrun. Book hotels, view weather forecasts, course maps, volunteer rosters, and explore nearby parkruns for the ultimate parkrun tourism experience." />
<meta name="keywords" content="parkrun accommodation, hotels near traralgon parkrun, traralgon parkrun hotels, parkrun tourist, nearby parkruns, churchill parkrun, newborough parkrun, grand ridge rail trail parkrun, mirboo north, sale parkrun, parkrun weather, parkrun course map" />
<meta name="author" content="Jake Lofthouse" />
<meta name="geo.placename" content="Agnes Brereton Park" />
<meta name="geo.position" content="-38.189632;146.53648" />
<meta property="og:title" content="Accommodation near Traralgon parkrun | Hotels, Weather, Course Map & More | parkrunner tourist" />
<meta property="og:description" content="Find and book hotels, campsites and cafes around Traralgon parkrun. Includes weather forecast, course map, volunteer roster, and nearby parkruns." />
<meta property="og:url" content="https://www.parkrunnertourist.com/T/traralgon" />
<meta property="og:type" content="article" />
<meta name="robots" content="index, follow" />
<meta name="language" content="en" />
<link rel="canonical" href="https://www.parkrunnertourist.com/T/traralgon" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- Apple Smart Banner -->
  <meta name="apple-itunes-app" content="app-id=6743163993, app-argument=https://www.parkrunnertourist.com">
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="https://parkrunnertourist.com/favicon.ico">
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-REFFZSK4XK"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-REFFZSK4XK');
    </script>
  <style>
    * {
      box-sizing: border-box;
    }
   
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      line-height: 1.6;
    }
   
    header {
      background: linear-gradient(135deg, #2e7d32 0%, #1b5e20 100%);
      color: white;
      padding: 1.5rem 2rem;
      font-weight: 600;
      font-size: 1.75rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 4px 20px rgba(46, 125, 50, 0.3);
      position: relative;
      overflow: hidden;
    }
   
    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="80" cy="40" r="1.5" fill="rgba(255,255,255,0.1)"/><circle cx="40" cy="80" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
      pointer-events: none;
    }
   
    header a {
      color: white;
      text-decoration: none;
      cursor: pointer;
      position: relative;
      z-index: 1;
      transition: transform 0.3s ease;
    }
   
    header a:hover {
      transform: translateY(-2px);
    }
   
    main {
      padding: 3rem 2rem;
      max-width: 1400px;
      margin: 0 auto;
    }
   
    h1 {
      font-size: 3rem;
      font-weight: 800;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #2e7d32, #4caf50);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-align: center;
      position: relative;
      padding: 2rem 0;
      line-height: 1.2;
    }
   
    .subtitle {
      font-size: 1.5rem;
      font-weight: 600;
      color: #4caf50;
      text-align: center;
      margin-bottom: 3rem;
      position: relative;
    }
   
    .subtitle::after {
      content: '';
      position: absolute;
      bottom: -1rem;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 4px;
      background: linear-gradient(135deg, #4caf50, #2e7d32);
      border-radius: 2px;
    }
   
    .description {
      background: white;
      padding: 2rem;
      border-radius: 1rem;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      margin-bottom: 3rem;
      border: 1px solid rgba(76, 175, 80, 0.2);
    }
   
    .description p {
      margin: 0;
      color: #374151;
      font-size: 1.1rem;
    }
   
    .section-title {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: #1f2937;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
   
    .section-title::before {
      content: '';
      width: 4px;
      height: 1.5rem;
      background: linear-gradient(135deg, #4caf50, #2e7d32);
      border-radius: 2px;
    }
   
    .toggle-btn {
      padding: 0.75rem 1.5rem;
      border-radius: 0.75rem;
      margin-right: 1rem;
      margin-bottom: 1rem;
      cursor: pointer;
      font-weight: 600;
      border: 2px solid #4caf50;
      transition: all 0.3s ease;
      background-color: white;
      color: #4caf50;
      user-select: none;
      font-size: 1rem;
      box-shadow: 0 2px 10px rgba(76, 175, 80, 0.2);
    }
   
    .toggle-btn:hover:not(.active) {
      background-color: #f1f8e9;
      box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
    }
   
    .toggle-btn.active {
      background: linear-gradient(135deg, #4caf50, #2e7d32);
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
    }
   
    .content-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin-bottom: 2rem;
    }
   
    .iframe-container {
      background: white;
      border-radius: 1rem;
      padding: 1rem;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
      border: 1px solid rgba(76, 175, 80, 0.2);
      overflow: hidden;
    }
   
    iframe {
      width: 100%;
      border-radius: 0.75rem;
      border: none;
      overflow: hidden;
    }
   
    .weather-iframe {
      height: 300px;
      width: 100%;
    }
   
    /* Loading placeholder for weather iframe */
    .weather-iframe[data-src]:not([src]) {
      background: linear-gradient(45deg, #f0f0f0 25%, transparent 25%),
                  linear-gradient(-45deg, #f0f0f0 25%, transparent 25%),
                  linear-gradient(45deg, transparent 75%, #f0f0f0 75%),
                  linear-gradient(-45deg, transparent 75%, #f0f0f0 75%);
      background-size: 20px 20px;
      background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
      animation: loading 1s linear infinite;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #666;
      font-weight: 500;
    }
   
    .weather-iframe[data-src]:not([src])::after {
      content: 'Loading weather...';
    }
   
    /* Loading placeholder for map iframe */
    .map-iframe[data-src]:not([src]) {
      background: linear-gradient(45deg, #e8f5e8 25%, transparent 25%),
                  linear-gradient(-45deg, #e8f5e8 25%, transparent 25%),
                  linear-gradient(45deg, transparent 75%, #e8f5e8 75%),
                  linear-gradient(-45deg, transparent 75%, #e8f5e8 75%);
      background-size: 20px 20px;
      background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
      animation: loading 1s linear infinite;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #4caf50;
      font-weight: 500;
    }
   
    .map-iframe[data-src]:not([src])::after {
      content: 'Loading map...';
    }
   
    @keyframes loading {
      0% { background-position: 0 0, 0 10px, 10px -10px, -10px 0px; }
      100% { background-position: 20px 20px, 20px 30px, 30px 10px, 10px 20px; }
    }
   
    .parkrun-actions {
      display: flex;
      gap: 1rem;
      margin-bottom: 3rem;
      flex-wrap: wrap;
      justify-content: center;
    }
   
    .action-btn {
      padding: 0.75rem 1.5rem;
      border-radius: 0.75rem;
      cursor: pointer;
      font-weight: 600;
      border: 2px solid #4caf50;
      transition: all 0.3s ease;
      background: linear-gradient(135deg, #4caf50, #2e7d32);
      color: white;
      text-decoration: none;
      display: inline-block;
      font-size: 1rem;
      box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
    }
   
    .action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
      background: linear-gradient(135deg, #388e3c, #1b5e20);
    }
   
    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      backdrop-filter: blur(5px);
    }
   
    .modal-content {
      background-color: white;
      margin: 2% auto;
      padding: 0;
      border-radius: 1rem;
      width: 90%;
      max-width: 1000px;
      height: 90%;
      position: relative;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
   
    .modal-header {
      background: linear-gradient(135deg, #4caf50, #2e7d32);
      color: white;
      padding: 2rem 2rem;
      border-radius: 1rem 1rem 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
   
    .modal-header h2 {
      font-size: 2rem;
      font-weight: 700;
      margin: 0;
      color: white;
    }
   
    .close {
      color: white;
      float: right;
      font-size: 2.5rem;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.3s ease;
    }
   
    .close:hover {
      transform: scale(1.1);
    }
   
    .modal iframe {
      width: 100%;
      height: calc(100% - 100px);
      border: none;
      border-radius: 0 0 1rem 1rem;
    }
   
    .accommodation-iframe {
      height: 600px;
      overflow-x: hidden;
    }
   
    .map-iframe {
      height: 400px;
    }
   
    .left-column {
      grid-column: 1;
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }
   
    .right-column {
      grid-column: 2;
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }
   
    .nearby-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
   
    .nearby-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding: 0.5rem;
      border-radius: 0.5rem;
      background: #f8fafc;
      transition: background 0.3s;
    }

    .nearby-item:hover {
      background: #e2e8f0;
    }
   
    .nearby-list a {
      color: #4caf50;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s;
    }
   
    .nearby-list a:hover {
      color: #2e7d32;
    }

    .distance {
      font-size: 0.9rem;
      color: #64748b;
    }
   
    /* Cancellation styles */
    .cancel-banner {
      background: #ef4444;
      color: white;
      text-align: center;
      padding: 1rem;
      font-weight: bold;
      margin-bottom: 2rem;
      display: none;
    }

    .status-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      font-size: 16px;
      margin-right: 8px;
    }

    .green {
      background: #22c55e;
      color: white;
    }

    .yellow {
      background: #eab308;
      color: white;
    }

    .red {
      background: #ef4444;
      color: white;
    }

    .cancel-tile p {
      display: flex;
      align-items: center;
    }

    .further-tile li {
      display: flex;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .last-update {
      font-size: 0.8rem;
      color: #64748b;
      margin-top: 0.5rem;
    }
   
    /* Download footer */
    .download-footer {
      background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);
      padding: 3rem 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
      color: white;
      font-weight: 700;
      font-size: 1.3rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      position: relative;
      overflow: hidden;
    }
   
    .download-footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="25" cy="25" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="45" r="1.5" fill="rgba(255,255,255,0.1)"/><circle cx="45" cy="75" r="1" fill="rgba(255,255,255,0.1)"/></svg>');
      pointer-events: none;
    }
   
    .app-badges {
      display: flex;
      gap: 2rem;
      position: relative;
      z-index: 1;
    }
   
    .download-footer img {
      height: 70px;
      width: auto;
      background: none;
      transition: transform 0.3s ease, filter 0.3s ease;
      cursor: pointer;
      border-radius: 0.5rem;
    }
   
    .download-footer img:hover {
      transform: scale(1.1) translateY(-4px);
      filter: brightness(1.1);
    }
   
    footer {
      text-align: center;
      padding: 2rem;
      background: #f8fafc;
      color: #64748b;
      font-weight: 500;
    }

    footer .last-update {
      font-size: 0.8rem;
      margin-top: 0.5rem;
    }
   
    /* Responsive Design */
    @media (max-width: 1024px) {
      .content-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .left-column, .right-column {
        grid-column: 1;
      }

      #weather-section { order: 1; }
      #location-section { order: 2; }
      #hotels-section { order: 3; }
      #nearby-section { order: 4; }
      #cancel-tile { order: 5; }
      #further-tile { order: 6; }
     
      .weather-iframe {
        height: 250px;
      }
     
      .accommodation-iframe,
      .map-iframe {
        height: 450px;
      }
     
      .app-badges {
        justify-content: center;
      }
    }
   
    @media (max-width: 768px) {
      main {
        padding: 2rem 1rem;
      }
     
      h1 {
        font-size: 2.5rem;
      }
     
      .subtitle {
        font-size: 1.2rem;
      }
     
      header {
        padding: 1rem;
        font-size: 1.5rem;
      }
     
      .toggle-btn {
        margin-bottom: 0.5rem;
        margin-right: 0.5rem;
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
      }
     
      .app-badges {
        flex-direction: column;
        gap: 1rem;
        align-items: center;
      }
     
      .accommodation-iframe,
      .map-iframe {
        height: 400px;
      }
     
      .weather-iframe {
        height: 200px;
      }
     
      .modal-header h2 {
        font-size: 1.5rem;
      }
     
      .close {
        font-size: 2rem;
      }
    }
   
    /* Hide Buy Me a Coffee widget on mobile and tablets */
    @media (max-width: 1024px) {
      [data-name="BMC-Widget"] {
        display: none !important;
      }
    }
  </style>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Accommodation near Traralgon parkrun | Hotels, Weather, Course Map & More | parkrunner tourist",
    "description": "Find and book hotels, campsites and cafes around Traralgon parkrun. Includes weather forecast, course map, volunteer roster, and nearby parkruns.",
    "keywords": "parkrun, accommodation, hotels, stay, tourist, traralgon, nearby parkruns, churchill parkrun, newborough parkrun, grand ridge rail trail parkrun, mirboo north, sale parkrun",
    "author": {
      "@type": "Person",
      "name": "Jake Lofthouse"
    },
    "url": "https://www.parkrunnertourist.com/T/traralgon"
  }
  </script>
</head>
<body>
<header>
  <a href="https://www.parkrunnertourist.com" target="_self" title="Go to parkrunner tourist homepage">parkrunner tourist</a>
  <div></div>
</header>
<div id="cancel-banner" class="cancel-banner"></div>
<main>
  <h1>Accommodation near Traralgon parkrun</h1>
 
  <div class="parkrun-actions">
    <a href="#" class="action-btn" onclick="openModal('courseModal', 'traralgon')">Course Map</a>
    <a href="#" class="action-btn" onclick="openModal('volunteerModal', 'traralgon')">Volunteer Roster</a>
    <a href="https://www.google.com/maps/dir/?api=1&destination=-38.189632,146.53648" target="_blank" class="action-btn">Directions</a>
  </div>
 
  
  <div class="content-grid">
    <div class="left-column">
      <div id="hotels-section" class="iframe-container">
        <h2 class="section-title">Hotel Prices</h2>
        <div>
          <button class="toggle-btn active" onclick="switchView('listview')" id="btn-listview">List View</button>
          <button class="toggle-btn" onclick="switchView('map')" id="btn-map">Map View</button>
        </div>
        <iframe id="stay22Frame" class="accommodation-iframe" scrolling="no"
          src="https://www.stay22.com/embed/gm?aid=parkrunnertourist&lat=-38.189632&lng=146.53648&checkin=2026-01-23&maincolor=7dd856&venue=Traralgon%20parkrun&viewmode=listview&listviewexpand=true"
          title="Stay22 accommodation listing">
        </iframe>
      </div>
      <div id="cancel-tile" class="iframe-container cancel-tile">
        <h2 class="section-title">Event Status</h2>
        <p id="cancel-message"></p>
        <div id="cancel-update" class="last-update"></div>
      </div>
      <div id="further-tile" class="iframe-container further-tile">
        <h2 class="section-title">Future Cancellations</h2>
        <ul id="further-list"></ul>
        <div id="further-update" class="last-update"></div>
      </div>
    </div>
    <div class="right-column">
      <div id="location-section" class="iframe-container">
        <h2 class="section-title">parkrun Location</h2>
        <iframe class="map-iframe" data-src="https://parkrunnertourist.com/main?5k&lat=-38.189632&lon=146.53648&zoom=13" title="parkrun Map"></iframe>
      </div>
      <div id="weather-section" class="iframe-container">
        <h2 class="section-title">Weather This Week</h2>
        <iframe class="weather-iframe" data-src="https://parkrunnertourist.com/weather?lat=-38.189632&lon=146.53648" title="Weather forecast for traralgon"></iframe>
      </div>
      
    <div id="nearby-section" class="iframe-container">
      <h2 class="section-title">Nearby parkruns</h2>
      <ul class="nearby-list">
        <li class="nearby-item"><a href="https://www.parkrunnertourist.com/explore/C/churchill" target="_blank">Churchill parkrun</a> <span class="distance">(16.9 km)</span></li><li class="nearby-item"><a href="https://www.parkrunnertourist.com/explore/N/newborough" target="_blank">Newborough parkrun</a> <span class="distance">(23.3 km)</span></li><li class="nearby-item"><a href="https://www.parkrunnertourist.com/explore/G/grandridgerailtrail" target="_blank">Grand Ridge Rail Trail parkrun, Mirboo North</a> <span class="distance">(40.0 km)</span></li><li class="nearby-item"><a href="https://www.parkrunnertourist.com/explore/S/sale" target="_blank">Sale parkrun</a> <span class="distance">(48.1 km)</span></li>
      </ul>
    </div>
  
    </div>
  </div>
</main>
<!-- Course Modal -->
<div id="courseModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Course Map</h2>
      <span class="close" onclick="closeModal('courseModal')">&times;</span>
    </div>
    <iframe id="courseIframe" src="" title="Course Map"></iframe>
  </div>
</div>
<!-- Volunteer Modal -->
<div id="volunteerModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h2>Volunteer Roster</h2>
      <span class="close" onclick="closeModal('volunteerModal')">&times;</span>
    </div>
    <iframe id="volunteerIframe" src="" title="Volunteer Roster"></iframe>
  </div>
</div>
<div class="download-footer">
  Download The App
  <div class="app-badges">
    <a href="https://apps.apple.com/gb/app/parkrunner-tourist/id6743163993" target="_blank" rel="noopener noreferrer">
      <img src="https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg" alt="Download on the App Store" />
    </a>
    <a href="https://play.google.com/store/apps/details?id=appinventor.ai_jlofty8.parkrunner_tourist" target="_blank" rel="noopener noreferrer">
      <img src="https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg" alt="Get it on Google Play" />
    </a>
  </div>
</div>
<footer>
  &copy; 2026 parkrunner tourist
</footer>
<!-- Buy Me a Coffee Widget - Hidden on mobile and tablets -->
<script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="jlofthouse" data-description="Support me on Buy me a coffee!" data-message="Support The App" data-color="#40DCA5" data-position="Right" data-x_margin="18" data-y_margin="18"></script>
<script>
  function switchView(mode) {
    const iframe = document.getElementById('stay22Frame');
    const baseUrl = "https://www.stay22.com/embed/gm?aid=parkrunnertourist&lat=-38.189632&lng=146.53648&checkin=2026-01-23&maincolor=7dd856&venue=Traralgon%20parkrun";
    iframe.src = baseUrl + "&viewmode=" + mode + "&listviewexpand=" + (mode === 'listview');
    document.getElementById('btn-listview').classList.toggle('active', mode === 'listview');
    document.getElementById('btn-map').classList.toggle('active', mode === 'map');
  }
 
  // Modal functions
  function openModal(modalId, eventName) {
    const modal = document.getElementById(modalId);
    const eventSlug = eventName.toLowerCase().replace(/\s+/g, '');
   
    if (modalId === 'courseModal') {
      const courseIframe = document.getElementById('courseIframe');
      courseIframe.src = `https://null/${eventSlug}/course/`;
    } else if (modalId === 'volunteerModal') {
      const volunteerIframe = document.getElementById('volunteerIframe');
      volunteerIframe.src = `https://null/${eventSlug}/futureroster/`;
    }
   
    modal.style.display = 'block';
    document.body.style.overflow = 'hidden';
  }
 
  function closeModal(modalId) {
    const modal = document.getElementById(modalId);
    modal.style.display = 'none';
    document.body.style.overflow = 'auto';
   
    // Clear iframe src to stop loading
    if (modalId === 'courseModal') {
      document.getElementById('courseIframe').src = '';
    } else if (modalId === 'volunteerModal') {
      document.getElementById('volunteerIframe').src = '';
    }
  }
 
  // Close modal when clicking outside
  window.onclick = function(event) {
    if (event.target.classList.contains('modal')) {
      closeModal(event.target.id);
    }
  }
 
  // Load weather and map iframes only for real users (not crawlers/bots)
  document.addEventListener('DOMContentLoaded', function() {
    // Check if this is likely a crawler/bot
    const userAgent = navigator.userAgent.toLowerCase();
    const isBot = /bot|crawler|spider|crawling|facebookexternalhit|twitterbot|linkedinbot|whatsapp|telegram|slackbot|discord|googlebot|bingbot|yahoo|duckduckbot|baiduspider|yandexbot|applebot|ia_archiver|curl|wget|python-requests|scrapy|selenium|phantomjs|headless/i.test(userAgent);
   
    if (!isBot && 'IntersectionObserver' in window) {
      // Use Intersection Observer to load iframes when they come into view
      const lazyIframes = document.querySelectorAll('iframe[data-src]');
     
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting && !entry.target.src) {
            entry.target.src = entry.target.dataset.src;
            observer.unobserve(entry.target);
          }
        });
      }, {
        rootMargin: '50px' // Load when within 50px of viewport
      });
     
      lazyIframes.forEach(iframe => {
        observer.observe(iframe);
      });
    } else if (!isBot) {
      // Fallback for browsers without Intersection Observer
      setTimeout(() => {
        const lazyIframes = document.querySelectorAll('iframe[data-src]');
        lazyIframes.forEach(iframe => {
          if (!iframe.src) {
            iframe.src = iframe.dataset.src;
          }
        });
      }, 1000);
    }
   
    // Add loading states for other iframes
    const iframes = document.querySelectorAll('iframe:not([data-src])');
    iframes.forEach(iframe => {
      const container = iframe.closest('.iframe-container');
      iframe.addEventListener('load', function() {
        if (container) {
          container.style.background = 'white';
        }
      });
    });

    // Fetch cancellations dynamically
    async function fetchCancellations() {
      try {
        const [upcoming, further, lastUpdate] = await Promise.all([
          fetch('https://www.parkrunnertourist.com/cancellations/upcoming.json').then(res => res.json()),
          fetch('https://www.parkrunnertourist.com/cancellations/further.json').then(res => res.json()),
          fetch('https://www.parkrunnertourist.com/cancellations/lastupdate.json').then(res => res.json())
        ]);

        const eventName = 'Traralgon parkrun';
        const upcomingCancel = upcoming.find(c => c.name === eventName);
        const furtherCancels = further.filter(c => c.name === eventName);

        const cancelBanner = document.getElementById('cancel-banner');
        const cancelTile = document.getElementById('cancel-tile');
        const cancelMessage = document.getElementById('cancel-message');
        const cancelUpdate = document.getElementById('cancel-update');
        const furtherTile = document.getElementById('further-tile');
        const furtherList = document.getElementById('further-list');
        const furtherUpdate = document.getElementById('further-update');

        const updateTime = lastUpdate.updated_utc ? new Date(lastUpdate.updated_utc).toLocaleString() : 'Unknown';

        cancelTile.style.display = 'block';
        cancelUpdate.textContent = 'Last updated: ' + updateTime;

        if (upcomingCancel) {
          cancelBanner.textContent = 'This event is cancelled on ' + upcomingCancel.date + ': ' + upcomingCancel.reason;
          cancelBanner.style.display = 'block';
          cancelTile.classList.add('cancel-red');
          cancelMessage.innerHTML = '<span class="status-icon red">⚠</span> Cancelled: ' + upcomingCancel.reason + ' on ' + upcomingCancel.date;
        } else {
          cancelTile.classList.add('cancel-green');
          cancelMessage.innerHTML = '<span class="status-icon green">✓</span> Event is running as scheduled';
        }

        if (furtherCancels.length > 0) {
          furtherTile.style.display = 'block';
          furtherUpdate.textContent = 'Last updated: ' + updateTime;
          furtherList.innerHTML = furtherCancels.map(c => '<li><span class="status-icon yellow">⚠</span> ' + c.reason + ' on ' + c.date + '</li>').join('');
        } else {
          furtherTile.style.display = 'none';
        }
      } catch (error) {
        console.error('Error fetching cancellations:', error);
      }
    }

    fetchCancellations();
  });
</script>
</body>
</html>